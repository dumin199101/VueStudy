<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>006 监听属性</title>
    <!--导入vue    -->
    <script type="text/javascript" src="https://unpkg.com/vue@2.6.10/dist/vue.js"></script>
</head>
<body>
    <div id = "app">
        <p style = "font-size:25px;">计数器: {{ counter }}</p>
        <button @click = "counter++" style = "font-size:25px;">点我</button>
        <div>
            千米 : <input type = "text" v-model = "kilometers">
            米 : <input type = "text" v-model = "meters">
        </div>
        <p id="info"></p>
    </div>
</body>
<script type="text/javascript">
    var vm = new Vue({
        el:'#app',
        data:{
            counter:1,
            kilometers : 0,
            meters:0
        },
        watch : {
            kilometers:function(val) {
                this.kilometers = val;
                this.meters = this.kilometers * 1000
            },
            meters : function (val) {
                this.kilometers = val/ 1000;
                this.meters = val;
            }
        }
    });
    vm.$watch('counter',function (nval,oval) {
        alert('计数器值的变化 :' + oval + ' 变为 ' + nval + '!');
    })
    // $watch 是一个实例方法
    vm.$watch('kilometers', function (newValue, oldValue) {
        // 这个回调将在 vm.kilometers 改变后调用
        document.getElementById ("info").innerHTML = "修改前值为: " + oldValue + "，修改后值为: " + newValue;
    })
</script>
</html>