<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>51 自定义指令详解directive</title>
    <script type="text/javascript" src="https://unpkg.com/vue@2.6.10/dist/vue.js"></script>
</head>
<body>
<div id="hdcms">
    <span v-star="color">标题</span>
    <input type="text" v-model="color" v-focus>
    <h1 v-hide="false">hdphp</h1>
</div>
<script>

    new Vue({
        el: '#hdcms',
        data: {
            title: 'houdunren.com',
            color: 'red'
        },
        directives: {
            // bind绑定对象，bind update操作
            star(el, bind){
                console.log(bind)
                var color = bind.value ? bind.value : 'red';
                el.style.cssText = "color:" + color;
            },
            focus: {
                inserted(el, bind){
                    console.log(bind)
                    el.focus();
                }
            },
            hide(el, bind){
                console.log(bind);
                if (bind.value) {
                    el.style.cssText = "display:none";
                }
            }
        }
    });
</script>
</body>
</html>